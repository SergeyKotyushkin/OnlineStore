@using Resources
@model OnlineStore.MvcWebProject.Models.ProductCatalog.ProductCatalogModel

@{
    Layout = "~/Views/Layouts/_MainLayout.cshtml";
}

@section StyleSheets
{
    <link rel="Stylesheet" href="@Href("~/Content/StyleSheets/ProductCatalog.css?" + DateTime.Now.Ticks)"/>
}

@section Scripts
{
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery-1.8.3.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/ProductCatalog/ProductList.js?" + DateTime.Now.Ticks)"></script>
}

<div id="productCatalogHeader">
    <span>@Lang.ProductCatalog_Header</span>
</div>

<div id="productCatalogTableContainer">
    @if (Model.TableData.Data != null && Model.TableData.Data.Length != 0)
    {
        @Html.Partial("_productCatalogList", Model.TableData)
    }
    else
    {
        <div id="productCatalogSearchNoResult">@Lang.ProductCatalog_SearchNoResult</div>
    }
    <br/>
    <br/>
    <div id="productCatalogSearchContainer">
        <div id="productCatalogSearchTitle">@Lang.ProductCatalog_SearchText</div>
        @using (Html.BeginForm("ProductList", "ProductCatalog", FormMethod.Get))
        {
            <div id="productCatalogSearchPanel">
                <span>@Lang.ProductCatalog_SearchName</span>
                @Html.TextBoxFor(x => x.Search.SearchName, new {Name = "name"})
                <span>@Lang.ProductCatalog_SearchCategory</span>
                @Html.DropDownListFor(x => x.Search.SearchCategory, Model.Search.CategoryList, new {Name = "category"})
                <span>   </span>
                <input type="submit" value="@Lang.ProductCatalog_ButtonSearch"/>
            </div>
        }
    </div>
    <br/>
    <div id="productCatalogBasketDiv">
        @using (Html.BeginForm("AllOrders", "Basket"))
        {
            <input type="submit" value="@Lang.ProductCatalog_ButtonBasket"/>
        }
    </div>
</div>

