@using Resources
@model OnlineStore.MvcWebProject.Models.ProductCatalog.ProductCatalogModel

@{
    ViewBag.Title = "ProductList";
    ViewBag.MoneyVisible = true;
    ViewBag.ProfileVisible = true;
    ViewBag.LogoutVisible = true;
    Layout = "~/Views/Layouts/_MainLayout.cshtml";
}

@section StyleSheets
{
    <link rel="Stylesheet" href="@Href("~/Content/StyleSheets/ProductCatalog.css?" + DateTime.Now.Ticks)"/>
}

@section Scripts
{
    <script type="text/javascript" src="@Url.Content("~/Scripts/ProductCatalog/ProductList.js?" + DateTime.Now.Ticks)"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery-1.8.3.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")"></script>
}

<div id="productCatalogHeader">
    <span>@Lang.ProductCatalog_Header</span>
</div>

<div id="productCatalogTableContainer">
    @if (Model.TableData.Data != null && Model.TableData.Data.Length != 0)
    {
        @Html.Partial("_productCatalogList", Model.TableData)

        <br/>
        <br/>
        <div id="productCatalogSearchContainer">
            <input type="checkbox" id="IsSearch" onclick="onIsSearchChange()"/>
            <span>@Lang.ProductCatalog_SearchText</span>
            @using (Html.BeginForm())
            {
                <div id="productCatalogSearchPanel" style="display: none;">
                    <br/>
                    <span>@Lang.ProductCatalog_SearchName</span>
                    @Html.TextBoxFor(x => x.Search.Name)
                    <span>@Lang.ProductCatalog_SearchCategory</span>
                    @Html.DropDownListFor(x => x.Search.SelectedCategory, Model.Search.CategoryList)
                    <span>   </span>
                    <input type="submit" value="@Lang.ProductCatalog_ButtonSearch"/>
                    <br/>
                    <br/>
                </div>
            }
        </div>
    }
</div>

